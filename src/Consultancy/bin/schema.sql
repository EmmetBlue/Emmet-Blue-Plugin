CREATE SCHEMA Consultancy;
GO

CREATE TABLE Consultancy.Tags(
	TagID INT PRIMARY KEY IDENTITY NOT NULL,
	TagName VARCHAR(50) UNIQUE,
	TagDescription VARCHAR(50)
)
GO

CREATE TABLE Consultancy.ConsultationSheet (
	ConsultationSheetID INT PRIMARY KEY IDENTITY NOT NULL,
	ConsultantID INT NOT NULL,
	Title VARCHAR(100) NOT NULL,
	Note VARCHAR(MAX) NOT NULL,
	CreationDate DATE NOT NULL DEFAULT GETDATE(),
	LastModified DATE NOT NULL DEFAULT GETDATE()
)
GO

CREATE TABLE Consultancy.ConsultationSheetTags (
	ConsultationSheetTagID INT PRIMARY KEY IDENTITY NOT NULL,
	SheetID INT,
	TagName VARCHAR(50),
	FOREIGN KEY (SheetID) REFERENCES Consultancy.ConsultationSheet(ConsultationSheetID) ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY (TagName) REFERENCES Consultancy.Tags(TagName) ON UPDATE CASCADE ON DELETE CASCADE
)
GO
