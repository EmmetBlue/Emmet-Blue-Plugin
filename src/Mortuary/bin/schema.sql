CREATE SCHEMA Mortuary;
GO

CREATE TABLE Mortuary.Body (
	BodyID INTEGER PRIMARY KEY IDENTITY NOT NULL,
	BodyTag VARCHAR(50) NOT NULL,
	DateOfDeath DATE NOT NULL,
	TimeOfDeath TIME NOT NULL,
	PlaceOfDeath VARCHAR(100) NOT NULL,
	DeathPhysicianID INTEGER 
)
GO

CREATE TABLE Mortuary.BodyInformation (
	BodyInformationID INTEGER PRIMARY KEY IDENTITY NOT NULL,
	BodyID INTEGER,
	BodyFirstName VARCHAR(20) NOT NULL,
	BodyLastName VARCHAR(20),
	BodyDateOfBirth DATETIME,
	BodyGender VARCHAR(10) NOT NULL,
	FOREIGN KEY (BodyID) REFERENCES Mortuary.Body(BodyID) ON UPDATE CASCADE ON DELETE CASCADE
)
GO
CREATE TABLE Mortuary.DepositorDetails(
	NextOfKinID INTEGER PRIMARY KEY IDENTITY NOT NULL,
	BodyID INTEGER,
	DepositorFirstName VARCHAR(20),
	DepositorLastName VARCHAR(20),
	DepositorAddress VARCHAR (max),
	DepositorRelationship VARCHAR(20),
	DepositorPhoneNumber VARCHAR(20),
	FOREIGN KEY (BodyID) REFERENCES Mortuary.Body(BodyID) ON UPDATE CASCADE ON DELETE CASCADE
)
GO
CREATE TABLE Mortuary.NextOfKinDetails(
	NextOfKinID INTEGER PRIMARY KEY IDENTITY NOT NULL,
	BodyID INTEGER,
	NextOfKinFirstName VARCHAR(20),
	NextOfKinLastName VARCHAR(20),
	NextOfKinAddress VARCHAR (max),
	NextOfKinRelationship VARCHAR(20),
	NextOfKinPhoneNumber VARCHAR(20),
	FOREIGN KEY (BodyID) REFERENCES Mortuary.Body(BodyID) ON UPDATE CASCADE ON DELETE CASCADE
)
GO